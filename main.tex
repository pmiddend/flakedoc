% This is a package nagging about deprecated stuff. We use
% RequirePackage instead of usepackage here because we want nagging
% for stuff that happens inside the \documentclass command.
% Note that currently (15.10.2012 16:12), nag has a bug with
% subcaption and complains about labels in a float before the caption.
\RequirePackage[l2tabu,orthodox]{nag}

\documentclass[ngerman,a4paper,11pt]{article}

% This (I mean [gray]) makes the minted source code grayscale. Has to
% be at the top here because other packages include xcolor, too
\usepackage[gray]{xcolor}

% This losely emulates the old \usepackage{a4wide}.
\usepackage{geometry}
\geometry{
  includeheadfoot,
  margin=2.8cm
}

% Packages
% This has to do with German Umlauts in pdf documents
\usepackage[T1]{fontenc}
% File encoding
\usepackage[utf8]{inputenc}
% Hyphenation, internationalization of labels.
\usepackage[ngerman]{babel}
% For \begin{align}
\usepackage{amsmath}
% For theorems
\usepackage{amsthm}
% For \mathbb
\usepackage{amssymb}
% Hopefully produces less noisy output
\usepackage{silence}
% For internationalized quotes (of all kinds)
\usepackage{csquotes}
% For subfigures and figures (alle)
\usepackage{graphicx}
\usepackage[footnotesize,bf]{caption}
\usepackage[subrefformat=parens,labelformat=parens]{subcaption}
% For pdf Links. The pdfborder removes the box around links
\usepackage[pdfborder={0 0 0},breaklinks=true]{hyperref}

% Beide für Tabellen
\usepackage{array}
\usepackage{booktabs}

% Pseudocode
\usepackage{algorithmicx}
\usepackage{algorithm}
\usepackage{algpseudocode}

% Für URLs in Bibliografie
\usepackage{url}
\usepackage{breakurl}

\usepackage{minted}

% Macros
\newcommand{\PimiddyName}[1]{\emph{#1}}
% Abbreviations need special care when it comes to whitespace both
% inbetween the letters and at the end. The macros below wrap the most
% common abbreviations.
\newcommand{\PimiddyzB}{z.\,B.\ }
\newcommand{\Pimiddydh}{d.\,h.\ }
\newcommand{\Pimiddyvgl}{vgl.\ }
\newcommand{\Pimiddyengl}{engl.\ }
\newcommand{\Pimiddyetal}{et.\ al.\ }
\newcommand{\Pimiddyggf}{ggf.\ }
\newcommand{\Pimiddybzw}{bzw.\ }
\newcommand{\Pimiddyca}{ca.\ }

% Other Macros
\newcommand{\PimiddyBegriff}[1]{\textbf{#1}}
\newcommand{\PimiddyBetrag}[1]{\left|#1\right|}
\newcommand{\PimiddyEnglBegriff}[1]{#1}
\newcommand{\PimiddyQuotes}[1]{\enquote{#1}}
\newcommand{\PimiddyFormelText}[1]{\textnormal{#1}}
\newcommand{\PimiddyAufrunden}[1]{\lceil{} #1 \rceil{}}
\newcommand{\PimiddyReell}{\ensuremath{\mathbb{R}}}
\newcommand{\PimiddyGanz}{\ensuremath{\mathbb{Z}}}
\newcommand{\PimiddyNorm}[2]{\left\|#2\right\|_{#1}}
\newcommand{\PimiddyFootnote}[1]{\footnote{#1}}
\newcommand{\PimiddyTodo}[1]{{\footnote{\textbf{TODO\@: #1}}}}
\newcommand{\PimiddyEnglisch}[1]{{engl. \emph{#1}}}
\newcommand{\PimiddyTableHeading}[1]{{\textbf{#1}}}
\newcommand{\PimiddyInlineCode}[1]{{\texttt{#1}}}
\newcommand{\PimiddyModulo}{\bmod}
\newcommand{\PimiddyDegree}[1]{\ensuremath{{#1}^{\circ}C}}

\numberwithin{figure}{section}
\numberwithin{equation}{section}
\numberwithin{table}{section}
\numberwithin{algorithm}{section}

% Operators
\DeclareMathOperator*{\PimiddyGrad}{grad}
\DeclareMathOperator*{\PimiddyDiv}{div}
\DeclareMathOperator*{\PimiddyRot}{rot}
\newcommand{\PimiddyLaplace}{\Delta}
\newcommand{\PimiddyProjection}{\mathbb{P}}
\DeclareMathOperator*{\PimiddyVectorfields}{Vect}
\DeclareMathOperator*{\PimiddyScalarfields}{Scal}

% Theorems
\newtheorem*{PimiddySatz}{Satz}

% For latex+inkscape to work. The eps_tex files use \includegraphics{foo.eps}
% which diesn't find the images unless this is defined
\graphicspath{{images/}}
% Also for latex+inkscape
% Also for general colors, dvipsnames adds more colors
%\usepackage[usenames,dvipsnames]{xcolor}

\usepackage{listings}

% Fette Monospacefonts
% bold-extra funzt irgendwie nicht
%\usepackage{bold-extra}
%\usepackage[scale=0.9]{beramono}
\usepackage{pxfonts}

%\includeonly{stam}

\usepackage[nameinlink]{cleveref}

% With this, we can use @online to cite websites in a bibtex file
\usepackage[backend=bibtex]{biblatex}

\bibliography{mendeley_bibliography,other_sources}
\begin{document}
\tableofcontents
\include{preamble}
\include{introduction}
\include{mathematics}
\include{navier_stokes}
\include{stam}
\include{opencl}
\include{opengl}
\include{implementation_wind}
\include{implementation_snowflake}
\include{implementation_fallen_snow}
\include{implementation_boundaries}
%\bibliographystyle{plain}
\printbibliography{}
\end{document}
